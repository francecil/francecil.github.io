(window.webpackJsonp=window.webpackJsonp||[]).push([[252],{987:function(s,t,a){"use strict";a.r(t);var n=a(27),r=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),t("p",[s._v("CSS 动画和 JS 动画的区别是什么？")]),s._v(" "),t("p",[s._v("动效设置的经验法则有哪些？")]),s._v(" "),t("p",[s._v("如何提高动画性能？")]),s._v(" "),t("p",[s._v("在阅读过谷歌开发者文档中 "),t("a",{attrs:{href:"https://developers.google.com/web/fundamentals/design-and-ux/animations?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"}},[s._v("Animations"),t("OutboundLink")],1),s._v(" 一系列文章后，找到了答案")]),s._v(" "),t("h2",{attrs:{id:"css-vs-javascript"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css-vs-javascript"}},[s._v("#")]),s._v(" CSS vs JavaScript")]),s._v(" "),t("p",[s._v("css 变化，css 过渡, css 动画，js 动画")]),s._v(" "),t("p",[s._v("我们常说的 JS 动画指的是什么？")]),s._v(" "),t("p",[s._v("核心区别是什么？由什么线程去控制元素状态变更")]),s._v(" "),t("p",[s._v("Web ainmations api 是通过主线程去控制状态还是？")]),s._v(" "),t("p",[s._v("我们这里讨论的是动画本身，通过 js 去控制状态，但动画本身由 css 控制，那也是属于 css 动画。比如")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("style")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token style"}},[t("span",{pre:!0,attrs:{class:"token language-css"}},[s._v("\n  "),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".box")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("transform")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("translate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("transition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" transform 500ms"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".box.move")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("transform")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("translate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("100px"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 100px"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("style")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token script"}},[t("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v("\n  box"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'move'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[t("a",{attrs:{href:"https://googlesamples.github.io/web-fundamentals/fundamentals/design-and-ux/animations/box-move-simple.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("在线demo"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("css3 增加了 animations 和")]),s._v(" "),t("p",[s._v("css 动画关键帧之间的加速度采用 animation-timing-function 属性")]),s._v(" "),t("p",[s._v("这样都是统一的，那如果有不同帧加速度的需求呢？")]),s._v(" "),t("h3",{attrs:{id:"实现平抛动画"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实现平抛动画"}},[s._v("#")]),s._v(" 实现平抛动画")]),s._v(" "),t("p",[s._v("css2 的变换动画如何实现？")]),s._v(" "),t("h3",{attrs:{id:"纯-css-也可以实现动画播放暂停"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#纯-css-也可以实现动画播放暂停"}},[s._v("#")]),s._v(" 纯 css 也可以实现动画播放暂停")]),s._v(" "),t("p",[s._v("所以这不是 js vs css 之间的区别")]),s._v(" "),t("p",[s._v("js 用的 web animations api 实现")]),s._v(" "),t("p",[s._v("css 用 "),t("code",[s._v("animation-play-state: paused, running, running;")]),s._v(" 实现")]),s._v(" "),t("h2",{attrs:{id:"动画效果的经验法则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#动画效果的经验法则"}},[s._v("#")]),s._v(" 动画效果的经验法则")]),s._v(" "),t("h3",{attrs:{id:"视图切换添加动画"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图切换添加动画"}},[s._v("#")]),s._v(" 视图切换添加动画")]),s._v(" "),t("p",[s._v("以列表页到详情页为例")]),s._v(" "),t("p",[s._v("图")]),s._v(" "),t("p",[s._v("如果是大屏设备考虑列表页右置，增加变更详情页的动画")]),s._v(" "),t("h3",{attrs:{id:"选择合适的缓动-easing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选择合适的缓动-easing"}},[s._v("#")]),s._v(" 选择合适的缓动(Easing)")]),s._v(" "),t("p",[s._v("一般选择缓出(ease-out)")]),s._v(" "),t("blockquote",[t("p",[s._v("快速响应，缓慢")])]),s._v(" "),t("p",[s._v("其他的如弹性缓动仅适合特定项目")]),s._v(" "),t("p",[s._v("缓动效果应该设置一个对应的时间")]),s._v(" "),t("p",[s._v("缓出")]),s._v(" "),t("p",[s._v("缓入")]),s._v(" "),t("p",[s._v("弹")]),s._v(" "),t("p",[s._v("对应的图和推荐时长")]),s._v(" "),t("h3",{attrs:{id:"使用不对称的动画定时来增加个性和对比效果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用不对称的动画定时来增加个性和对比效果"}},[s._v("#")]),s._v(" 使用不对称的动画定时来增加个性和对比效果")]),s._v(" "),t("p",[s._v("遵循的原则是：始终快速响应用户交互")]),s._v(" "),t("p",[s._v("根据点击主体来判断")]),s._v(" "),t("p",[s._v("100 300")]),s._v(" "),t("p",[s._v("点击指的是直观直觉的操作，如果再测试代码运算啥的就不属于点击")]),s._v(" "),t("p",[s._v("比如点击关闭按钮的动画属于点击，点击提交出现的弹框属于代码")]),s._v(" "),t("p",[s._v("以模态框为例")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/9277731-d947ca20637ea577.gif?imageMogr2/auto-orient/strip",alt:"dont-press.gif"}})]),s._v(" "),t("p",[s._v("当用户关闭模态视图时，应迅速将其清除。但是，应让模态视图以较慢的速度进入屏幕，以防使用户感到突然。")]),s._v(" "),t("h2",{attrs:{id:"提高动画性能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提高动画性能"}},[s._v("#")]),s._v(" 提高动画性能")]),s._v(" "),t("h3",{attrs:{id:"will-change-作用与原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#will-change-作用与原理"}},[s._v("#")]),s._v(" will-change 作用与原理")]),s._v(" "),t("p",[s._v("将应用该属性的元素单独提取为一个合成层，提到合成层有什么优缺点呢？")]),s._v(" "),t("p",[s._v("减少绘制区域，该层单独绘制，不造成其他元素的绘制")]),s._v(" "),t("blockquote",[t("p",[s._v("定期重绘的或通过变形在屏幕上移动的元素，可以在不影响其他元素的情况下进行处理")])]),s._v(" "),t("p",[s._v("在一开始，会告诉浏览器提前创建合成器层")]),s._v(" "),t("p",[s._v("但是创建层需要额外的内存和管理，每层的纹理都需要上传到GPU")]),s._v(" "),t("p",[s._v("请勿在不分析的情况下提升元素。")]),s._v(" "),t("p",[s._v("怎么分析优化效果？")]),s._v(" "),t("h3",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])]),s._v(" "),t("p",[s._v("线程处理各种擅长的事")]),s._v(" "),t("p",[s._v("减少合成器线程加载新位图的情况")]),s._v(" "),t("p",[s._v("某些操作看是否能够由 变换，透明度，过滤器代替")]),s._v(" "),t("h2",{attrs:{id:"实例分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实例分析"}},[s._v("#")]),s._v(" 实例分析")]),s._v(" "),t("p",[s._v("观察 antd 控件的动画源码")]),s._v(" "),t("h2",{attrs:{id:"拓展阅读"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拓展阅读"}},[s._v("#")]),s._v(" 拓展阅读")]),s._v(" "),t("p",[s._v("http://zencode.in/18.CSS-animation%E5%92%8Ctransition%E7%9A%84%E6%80%A7%E8%83%BD%E6%8E%A2%E7%A9%B6.html")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://zh.javascript.info/js-animation",target:"_blank",rel:"noopener noreferrer"}},[s._v("JavaScript 动画"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);