(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{1011:function(s,a,e){"use strict";e.r(a);var t=e(30),n=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("ol",[a("li",[s._v("换电脑后，怎么保持 配置（settings.json,插件,键位设置等）同步？")]),s._v(" "),a("li",[s._v("离线安装拓展？")]),s._v(" "),a("li",[s._v("利用脚本自动进行前面两个步骤")])]),s._v(" "),a("h2",{attrs:{id:"配置同步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置同步"}},[s._v("#")]),s._v(" 配置同步")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5b9b5a6f6fb9a05d22728e36",target:"_blank",rel:"noopener noreferrer"}},[s._v("三分钟教你同步 Visual Studio Code 设置"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"离线安装拓展"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#离线安装拓展"}},[s._v("#")]),s._v(" 离线安装拓展")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/u012814856/article/details/80684376",target:"_blank",rel:"noopener noreferrer"}},[s._v("简单的 VSCode 插件离线安装方法"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("安装指令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vscode安装目录/bin")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意拓展的路径")]),s._v("\n\n./code --install-extension xxx/octref.vetur-0.22.6.vsix\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"批量下载离线安装包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#批量下载离线安装包"}},[s._v("#")]),s._v(" 批量下载离线安装包")]),s._v(" "),a("p",[s._v("这个需求的来源是：云桌面不能访问外网但是可以访问宿主机，想要同步宿主机的 vscode 拓展到云桌面环境")]),s._v(" "),a("p",[s._v("可以直接采用 "),a("code",[s._v("离线安装拓展")]),s._v(" 的做法，但是当拓展多了就很浪费时间。")]),s._v(" "),a("p",[s._v("故主要做的事情就是：")]),s._v(" "),a("ol",[a("li",[s._v("获取并解析 拓展列表 配置文件")]),s._v(" "),a("li",[s._v("根据配置下载安装包")])]),s._v(" "),a("p",[s._v("我们先上最终的操作步骤：")]),s._v(" "),a("blockquote",[a("p",[s._v("为了保证平台统一，我们的操作采用 "),a("code",[s._v("git bash")])])]),s._v(" "),a("p",[s._v("进入宿主机的 vscode安装目录/bin 下,右键 "),a("code",[s._v("Git Bash Here")]),s._v(" 执行以下脚本")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先创建一个tmp临时目录，安装包都会下到里面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tr '\\n' ' ' 多行转一行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# | sh 将输出进行执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n./code --list-extensions --show-versions "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/(.*?)\\.(.*?)@(.*)/https:\\/\\/marketplace.visualstudio.com\\/_apis\\/public\\/gallery\\/publishers\\/\\1\\/vsextensions\\/\\2\\/\\3\\/vspackage -o tmp\\/\\1.\\2-\\3.vsix/'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tr")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\n'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/(.*)/curl \\1/'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("安装包下载到 tmp 目录下")]),s._v(" "),a("p",[s._v("在云桌面的 vscode 中，点击 EXTENSIONS 后面的 … 符号，选择 "),a("code",[s._v("install from VXIS")]),s._v(" 然后选择本地相应的插件包，插入，reload 即可。")]),s._v(" "),a("blockquote",[a("p",[s._v("下面进行详细介绍：")])]),s._v(" "),a("h3",{attrs:{id:"一、获取并解析-拓展列表-配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、获取并解析-拓展列表-配置文件"}},[s._v("#")]),s._v(" 一、获取并解析 拓展列表 配置文件")]),s._v(" "),a("h4",{attrs:{id:"方案0-直接拿-配置同步-时-gist-github-中保存的json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方案0-直接拿-配置同步-时-gist-github-中保存的json"}},[s._v("#")]),s._v(" 方案0: 直接拿 "),a("code",[s._v("配置同步")]),s._v(" 时 gist.github 中保存的json")]),s._v(" "),a("h4",{attrs:{id:"方案1-解析目录并得到列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方案1-解析目录并得到列表"}},[s._v("#")]),s._v(" 方案1：解析目录并得到列表：")]),s._v(" "),a("p",[s._v("我们可以在以下目录中拿到拓展列表目录，目录名为"),a("code",[s._v("${publisher}.${name}-${version}")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Windows %USERPROFILE%\\.vscode\\extensions\nMac ~/.vscode/extensions\nLinux ~/.vscode/extensions\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("这个方案是可行的，但是感觉操作有点麻烦，弃")]),s._v(" "),a("h4",{attrs:{id:"方案2-使用code-list-extensions命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方案2-使用code-list-extensions命令"}},[s._v("#")]),s._v(" 方案2：使用"),a("code",[s._v("code --list-extensions")]),s._v("命令")]),s._v(" "),a("p",[s._v("在 vscode 安装目录下的bin目录中执行")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("// linux or "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" shell\n./code --list-extensions --show-versions\n// windows cmd or powershell\n."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("code --list-extensions --show-versions\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("可以列出 "),a("code",[s._v("${publisher}.${name}@${version}")]),s._v("列表")]),s._v(" "),a("p",[s._v("例如（第一行为命名行操作完的提示，不在实际输出中）：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("createInstance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" extensionManagementService depends on downloadService "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" is NOT registered.\nAndreabbondanza.ignoregit@1.0.1\nbpruitt-goddard.mermaid-markdown-syntax-highlighting@1.0.1\ndbaeumer.vscode-eslint@1.6.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("参考"),a("a",{attrs:{href:"https://code.visualstudio.com/docs/editor/command-line",target:"_blank",rel:"noopener noreferrer"}},[s._v("Command Line Interface (CLI)"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"方案3-使用-vscode-npm-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方案3-使用-vscode-npm-包"}},[s._v("#")]),s._v(" 方案3：使用 vscode npm 包")]),s._v(" "),a("p",[s._v("本想使用 vscode.extensions.all 接口拿到，碰到一些ts相关的问题后放弃了")]),s._v(" "),a("hr"),s._v(" "),a("blockquote",[a("p",[s._v("最终采用 "),a("strong",[s._v("方案2")])])]),s._v(" "),a("h3",{attrs:{id:"二、根据配置下载安装包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、根据配置下载安装包"}},[s._v("#")]),s._v(" 二、根据配置下载安装包")]),s._v(" "),a("p",[s._v("下载链接为：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("https://marketplace.visualstudio.com/_apis/public/gallery/publishers/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${publisher}")]),s._v("/vsextensions/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${name}")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${version}")]),s._v("/vspackage\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("假设某个插件配置为")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"metadata"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"e337c67b-55c2-4fef-8949-eb260e7fb7fd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"publisherId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shan.code-settings-sync"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"publisherDisplayName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shan"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"code-settings-sync"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"publisher"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.1.2"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("则 下载链接为")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("https://marketplace.visualstudio.com/_apis/public/gallery/publishers/Shan/vsextensions/code-settings-sync/3.1.2/vspackage\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("下载的文件名为 "),a("code",[s._v("Shan.code-settings-sync-3.1.2.vsix")])]),s._v(" "),a("h4",{attrs:{id:"在指定目录下利用-git-bash-下载文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在指定目录下利用-git-bash-下载文件"}},[s._v("#")]),s._v(" 在指定目录下利用 git bash 下载文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("curl https://marketplace.visualstudio.com/_apis/public/gallery/publishers/Shan/vsextensions/code-settings-sync/3.1.2/vspackage -O\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("本以为使用 -O （以服务器上的名称保存在本地），下载的文件名是 "),a("code",[s._v("Shan.code-settings-sync-3.1.2.vsix")]),s._v("，结果是 "),a("code",[s._v("vspackage")])]),s._v(" "),a("p",[s._v("根据 "),a("a",{attrs:{href:"http://www.codebelief.com/article/2017/05/linux-command-line-curl-usage/#3",target:"_blank",rel:"noopener noreferrer"}},[s._v("cURL-将链接保存到文件"),a("OutboundLink")],1),s._v(" 中得知，")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：使用 -O 选项时，必须确保链接末尾包含文件名，否则 curl 无法正确保存文件。如果遇到链接中无文件名的情况，应该使用 -o 选项手动指定文件名，或使用重定向符号。")])]),s._v(" "),a("p",[s._v("另外介绍下 sh 的正则和文本替换")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" dbaeumer.vscode-eslint@1.6.0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("egrep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(.*?)\\.(.*?)@(.*)"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出 dbaeumer.vscode-eslint@1.6.0")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("一开始使用 egrep 命令，发现不能直接做替换，后直接采用 sed 命令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dbaeumer.vscode-eslint@1.6.0'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/(.*?)\\.(.*?)@(.*)/\\1.\\2-\\3.vsix/'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出 dbaeumer.vscode-eslint-1.6.0.vsix")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("-r 参数表示 sed 开启拓展正则功能")]),s._v(" "),a("p",[s._v("参考 "),a("a",{attrs:{href:"https://www.cnblogs.com/jcli/p/4088514.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("sed介绍"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("strong",[s._v("单文件下载的 sh 命令即")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dbaeumer.vscode-eslint@1.6.0'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/(.*?)\\.(.*?)@(.*)/curl https:\\/\\/marketplace.visualstudio.com\\/_apis\\/public\\/gallery\\/publishers\\/\\1\\/vsextensions\\/\\2\\/\\3\\/vspackage -o \\1.\\2-\\3.vsix/'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("结合步骤一")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先创建一个tmp临时目录，安装包都会下到里面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tr '\\n' ' ' 多行转一行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# | sh 将输出进行执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n./code --list-extensions --show-versions "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/(.*?)\\.(.*?)@(.*)/https:\\/\\/marketplace.visualstudio.com\\/_apis\\/public\\/gallery\\/publishers\\/\\1\\/vsextensions\\/\\2\\/\\3\\/vspackage -o tmp\\/\\1.\\2-\\3.vsix/'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tr")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\n'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/(.*)/curl \\1/'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"后续"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后续"}},[s._v("#")]),s._v(" 后续")]),s._v(" "),a("p",[s._v("发现有的文件下载下来安装不了，提示 "),a("code",[s._v("end of central directory record signature not found")])]),s._v(" "),a("p",[s._v("可能是当前插件所依赖的 vscode 版本较高，要么升级 vscode 要么下载旧版插件")]),s._v(" "),a("blockquote",[a("p",[s._v("可以去 "),a("code",[s._v("https://marketplace.visualstudio.com/items/${publisher}.${name}/changelog")]),s._v(" 查看版本记录下载旧版本")])]),s._v(" "),a("p",[s._v("也有可能需要去 "),a("code",[s._v("gallery.vsassets.io")]),s._v(" 下载")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("https://"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${publisher}")]),s._v(".gallery.vsassets.io/_apis/public/gallery/publisher/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${publisher}")]),s._v("/extension/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${extension name}")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${version}")]),s._v("/assetbyname/Microsoft.VisualStudio.Services.VSIXPackage\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("sh 命令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dbaeumer.vscode-eslint@1.6.0'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/(.*?)\\.(.*?)@(.*)/curl https:\\/\\/\\1.gallery.vsassets.io\\/_apis\\/public\\/gallery\\/publisher\\/\\1\\/extension\\/\\2\\/\\3\\/assetbyname\\/Microsoft.VisualStudio.Services.VSIXPackage -o \\1.\\2-\\3.vsix/'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("注意，如果用命令行下载的时候提示："),a("code",[s._v("curl:(92) HTTP/2 stream 1 was not closed cleanly: HTTP_1_1_REQUIRED (err 13)")]),s._v(",需要重新下")])])}),[],!1,null,null,null);a.default=n.exports}}]);