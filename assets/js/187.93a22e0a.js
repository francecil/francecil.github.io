(window.webpackJsonp=window.webpackJsonp||[]).push([[187],{965:function(s,e,t){"use strict";t.r(e);var a=t(30),n=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("纯粹的 esm 可以很方便的进行  tree-shake ，去除无用代码。")]),s._v(" "),e("p",[s._v("但实际应用时，很难分析一个模块是否完全没有副作用（现在可以自动分析一部分了么？）。因此需要借助 sideEffects 配置来显式声明是否存在副作用")]),s._v(" "),e("h2",{attrs:{id:"sideeffect"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sideeffect"}},[s._v("#")]),s._v(" sideEffect")]),s._v(" "),e("p",[s._v("设置为 false ，表示都没有副作用，可以安全地删除没有用到的 export")]),s._v(" "),e("p",[s._v("如果部分文件存在副作用，可以自行配置文件列表")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"sideEffects"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/some-side-effectful-file.js"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*.css"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("也可以自行会文件进行标记，声明一个模块或方法没有副作用。")]),s._v(" "),e("blockquote",[e("p",[s._v("这样打包时没有用到的话会自动去除？")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("/*#__PURE__*/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("https://webpack.docschina.org/guides/tree-shaking/")])])}),[],!1,null,null,null);e.default=n.exports}}]);