(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{896:function(t,s,a){"use strict";a.r(s);var n=a(30),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("本文是对掘金小册 "),s("a",{attrs:{href:"https://juejin.im/book/6844733783166418958/section/6844733783187390477",target:"_blank",rel:"noopener noreferrer"}},[t._v("「你不知道的 Chrome 调试技巧」"),s("OutboundLink")],1),t._v(" 的阅读笔记与思考。")]),t._v(" "),s("p",[t._v("该小册记录了一些可能少为人知却挺有用的技巧。在此基础上，我筛选出一些此前不知道的技巧，偏个人向，完整的可以阅读原小册。")]),t._v(" "),s("p",[t._v("当然，如果你完整的阅读过 chrome-devtools "),s("a",{attrs:{href:"https://developers.google.com/web/tools/chrome-devtools",target:"_blank",rel:"noopener noreferrer"}},[t._v("系列文章"),s("OutboundLink")],1),t._v(" ，这些技巧应该都知道。")]),t._v(" "),s("p",[t._v("除了技巧罗列，本文会加入一些思考，比如这个技巧用来解决什么问题，其他浏览器如何模拟实现等等。")]),t._v(" "),s("h1",{attrs:{id:"通用篇"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通用篇"}},[t._v("#")]),t._v(" 通用篇")]),t._v(" "),s("h2",{attrs:{id:"_1-copy-value"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-copy-value"}},[t._v("#")]),t._v(" 1. copy(value)")]),t._v(" "),s("blockquote",[s("p",[t._v("调用全局的 copy 方法，将 value 值复制到剪切板")])]),t._v(" "),s("p",[t._v("在此之前，我们我们想复制一个对象的值，我们会怎么做？笨点的做法，可能会将其输出，然后层层展开，复制完再去掉一些无用or"),s("em",[t._v("重复文本")]),t._v("（懂的都懂）；或者再聪明一点，用 "),s("code",[t._v("JSON.stringify(val,null,2)")]),t._v(" 带缩进输出后再复制")]),t._v(" "),s("p",[t._v("然而，现在仅需要用 copy 方法即可快速复制了。")]),t._v(" "),s("p",[t._v("借用原文的图")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/7/16787442a1444125?imageslim",alt:""}})]),t._v(" "),s("p",[t._v("经过几组实验，发现 copy 值时内部调用的是 "),s("code",[t._v("JSON.stringify(val,null,2)")]),t._v(" ，且在存在循环引用等调用 "),s("code",[t._v("stringify")]),t._v(" 会报错的情况， 执行 copy 后剪切板复制到的值是 "),s("code",[t._v("[object Object]")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("say")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gahing'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("copy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {name:'gahing'}")]),t._v("\na"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("toJSON")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("copy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\na"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("a\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("copy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [object Object]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("所以，对于其他浏览器，也可以写一个全局的 copy 方法，以供使用：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("copy")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getData")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Element")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[object Object]'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("writePasterVersion")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 利用 textarea 可以保留换行等格式")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" textarea "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'textarea'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("textarea"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        textarea"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"readonly"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        textarea"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data\n        textarea"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("select")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'copy'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'copy'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("textarea"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writePasterVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br")])]),s("p",[t._v("注意这里还加入了复制 dom 元素内容的处理，原 copy 方法也是支持这个的。不过复制 dom 这个功能大部分浏览器也都支持就是了。")]),t._v(" "),s("h2",{attrs:{id:"_2-快捷键"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-快捷键"}},[t._v("#")]),t._v(" 2. 快捷键")]),t._v(" "),s("p",[t._v("文中以及其他的一些文章都提到了快捷键技巧。")]),t._v(" "),s("p",[t._v("这个其实不用太去记，忘了就打开 Shortcuts 面板看看（打开控制台=>按 F1=>切到 Shortcuts 面板 ），用多了就熟了。")]),t._v(" "),s("p",[t._v("或者看 google dev 原文-> "),s("a",{attrs:{href:"https://developers.google.com/web/tools/chrome-devtools/shortcuts?utm_source=devtools",target:"_blank",rel:"noopener noreferrer"}},[t._v("键盘快捷键参考"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("小册中提到 Cmd + 数字可以用来切控制台的面板，不过需要先去设置那边开启 DevTools>>Settings >>Preferences>>"),s("em",[t._v("Appearance")]),t._v(" 打开这个选项：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/18/167c07cf4d56febf?imageslim",alt:""}})]),t._v(" "),s("p",[t._v("这里额外发现，原先的  "),s("code",[t._v("Cmd + 数字")]),t._v(" 快捷键更实用，可以用来切 tab ，很适合上班摸鱼（划掉）。")]),t._v(" "),s("h2",{attrs:{id:"_3-使用-command"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用-command"}},[t._v("#")]),t._v(" 3. 使用 Command")]),t._v(" "),s("p",[t._v("用过 VS Code 的就知道， 我们可以通过 "),s("code",[t._v("Cmd + Shift + P")]),t._v(" 吊起 Command 菜单，其实浏览器也有相同的操作（需要先打开开发者工具）")]),t._v(" "),s("p",[t._v("包括的功能有：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/11/1679a2e13926d71b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("上图引自小册")])]),t._v(" "),s("p",[t._v("大部分指令就是通用设置和操作，其实可以在 "),s("code",[t._v("Settings")]),t._v(" 里找到相应的设置和快捷键，所以大部分情况也没什么用，这里说下两个我个人觉得无可替代的 Command 功能")]),t._v(" "),s("h3",{attrs:{id:"_1-debugger-disable-javascript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-debugger-disable-javascript"}},[t._v("#")]),t._v(" (1) Debugger - disable JavaScript")]),t._v(" "),s("p",[t._v("相应的也可以在 "),s("code",[t._v("Settings - Preferences")]),t._v(" 找到相应的配置，那为啥说无可替代呢？")]),t._v(" "),s("p",[t._v("我们应该经常遇到这样的需求：鼠标移动到某个区域时出现一个浮窗，移开时浮窗消失。浮窗的显隐是利用 js 的 mouse 事件来控制的。此时我们想调试浮窗的 dom 结构怎么办？")]),t._v(" "),s("p",[t._v("之前尝试过的操作有以下几种：")]),t._v(" "),s("ol",[s("li",[t._v("右键-检查定位到 Elements 面板的 dom ，通过 Tab 和 方向键等调试样式，操作受限，且经常一不小心就消失浮窗导致白调试了。")]),t._v(" "),s("li",[t._v("先打开 "),s("code",[t._v("Settings - Preferences")]),t._v(" 面板，鼠标指向相应位置出现浮框的时候，快速切到 Preferences 面板设置 "),s("code",[t._v("disable JavaScript")]),t._v(" ，不过这需要一个比较好的角度和手速，成功率不高。")])]),t._v(" "),s("p",[t._v("今天发现可以通过提前切出 Command 面板，焦点处于输入框中，此时鼠标移动到相应区域显示浮窗。另一方面， Command 面板输入 "),s("code",[t._v("Disable JavaScript")]),t._v(" 并回车禁用 js ，接下来就可以为所欲为了~")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sf1-dycdn-tos.pstatp.com/obj/eden-cn/nupohneh7nupehpqnulog/img/disableJS2.gif",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("20200915 更新：")]),t._v(" 这个方案处理不了需要点击的情况（比如点击选择框后展现下拉列表）。后经同事指点，提供了其他方案：")]),t._v(" "),s("ol",[s("li",[t._v("settimeout debugger")]),t._v(" "),s("li",[t._v("父元素断点调试：Elements 面板 -> 父元素右键 Break on -> subtree modifications")])]),t._v(" "),s("h3",{attrs:{id:"_2-screentshot-指令截图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-screentshot-指令截图"}},[t._v("#")]),t._v(" (2) Screentshot 指令截图")]),t._v(" "),s("p",[t._v("输入 screentshot ，可以看到有以下指令：")]),t._v(" "),s("ul",[s("li",[t._v("Capture area screentshot: 选择一个矩形区域并截图")]),t._v(" "),s("li",[t._v("Capture full size screentshot: 整个网页截图")]),t._v(" "),s("li",[t._v("Capture node screentshot: 单独截图某个节点区域，需要先去 Elements 面板选中节点再执行指令。")]),t._v(" "),s("li",[t._v("Capture screentshot: 截图当前网页可视区域")])]),t._v(" "),s("p",[t._v("这四个指令，基本能够满足我们对网页静态截图的种种需求，一些 Chrome 拓展可以选择卸载了~")]),t._v(" "),s("h2",{attrs:{id:"_4-代码片段-snippets-的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-代码片段-snippets-的使用"}},[t._v("#")]),t._v(" 4. 代码片段 Snippets 的使用")]),t._v(" "),s("p",[t._v("我们经常会在控制台写一些临时用的测试代码。但是可能隔很久之后又要用到它，再重写一遍有点浪费时间。")]),t._v(" "),s("p",[t._v("Chrome 给我们提供了一个编写代码片段，之后随时随地(任意页面)都可以执行这段代码的功能。")]),t._v(" "),s("p",[t._v("我们可以在 Sources 面板的 Snippets 栏中新建 snippet ，写完代码后通过右击菜单 run 或者快捷键 Cmd + Enter 来运行它")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/29/167f5b6997643be2?imageslim",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("上图引自小册")])]),t._v(" "),s("p",[t._v("甚至可以通过 "),s("code",[t._v("Cmd + P")]),t._v(" 切出 "),s("code",[t._v("Open file")]),t._v(" 功能后输入 "),s("code",[t._v("!")]),t._v(" ，之后选择 snippet 并回车来运行代码片段")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/29/167f5b6999c09e59?imageslim",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("上图引自小册")])]),t._v(" "),s("p",[t._v("目前能想到的几个使用场景就是：")]),t._v(" "),s("ol",[s("li",[t._v("编写单测 or 基于 fetch 的接口测试代码")]),t._v(" "),s("li",[t._v("编写通用工具方法")]),t._v(" "),s("li",[t._v("引入某些 npm 包（比如 moment/loadsh 等）的 umd cdn script 地址到页面，并测试该 npm 包的功能")]),t._v(" "),s("li",[t._v("做断点测试（下文会提到）")])]),t._v(" "),s("p",[t._v("不过对我来说，这个功能有点鸡肋。一方面很少用到，另一方面就算不用它我们也有各种替代品，比如输入几个关键字 console 就能跳出历史输入记录。")]),t._v(" "),s("p",[t._v("且实测 Snippets 数据不能进行 Chrome 间数据同步， 如果能同步的话更有用些，可以组装上自己的工具库了。")]),t._v(" "),s("h1",{attrs:{id:"console-篇"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#console-篇"}},[t._v("#")]),t._v(" console 篇")]),t._v(" "),s("p",[t._v("大部分技巧都可以在 "),s("a",{attrs:{href:"https://developers.google.com/web/tools/chrome-devtools/console/utilities",target:"_blank",rel:"noopener noreferrer"}},[t._v("Chrome DevTools Console 原文"),s("OutboundLink")],1),t._v(" 中找到")]),t._v(" "),s("h2",{attrs:{id:"_1-console-中的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-console-中的"}},[t._v("#")]),t._v(" 1. console 中的 $")]),t._v(" "),s("h3",{attrs:{id:"_0-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_0-4"}},[t._v("#")]),t._v(" $0~$4")]),t._v(" "),s("p",[s("code",[t._v("$0")]),t._v(" 表示对当前选中节点的引用， "),s("code",[t._v("$1")]),t._v(" 表示对上次选中节点的引入，以此类推直至 "),s("code",[t._v("$4")])]),t._v(" "),s("p",[t._v("所以我们可以很简单的进行 dom 节点移动")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--先选中这个节点 $1 --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--再选中这个节点 $0 --\x3e")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("应用")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("$1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//即可实现 dom 节点移动")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"和"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#和"}},[t._v("#")]),t._v(" $ 和 $$")]),t._v(" "),s("p",[t._v("$ 相当于 "),s("code",[t._v("document.querySelector")]),t._v(" 的别名")]),t._v(" "),s("p",[t._v("$$ "),s("strong",[t._v("类似")]),t._v("于 "),s("code",[t._v("document.querySelectorAll")]),t._v(" ，但是返回的是节点数组，而不是 NodeList 类数组对象")]),t._v(" "),s("p",[s("code",[t._v("$")]),t._v(" 和 "),s("code",[t._v("$$")]),t._v(" 还支持第二个参数 "),s("code",[t._v("startNode")]),t._v(" 即查询起点 document 改为 startNode")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("其他浏览器的简单 mock （没做异常处理和特殊判断）")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("$")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("selector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" startNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("startNode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("selector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("$$")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("selector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" startNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" Array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("startNode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("selector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:""}},[s("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")]),t._v(" $_")]),t._v(" "),s("p",[t._v("上次执行结果的引用")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/7/16785d333e7c1d7f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("上图引自小册")])]),t._v(" "),s("p",[t._v("其他浏览器倒是不好 mock 这个功能。不过这个功能也挺鸡肋的就是")]),t._v(" "),s("h3",{attrs:{id:"i"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#i"}},[t._v("#")]),t._v(" $i")]),t._v(" "),s("p",[t._v("在此之前，控制台调试 npm 包是一个痛点，我们可能会：")]),t._v(" "),s("ul",[s("li",[t._v("新建项目->安装 npm 包->打包输入到 html 页面->devtools 测试，或者")]),t._v(" "),s("li",[t._v("找到 umd 包地址->script 引入->devtools 测试")])]),t._v(" "),s("p",[t._v("现在，仅需要在控制台执行 "),s("code",[t._v("$i(npm_package_name)")]),t._v(" 即可引入该 npm 包了")]),t._v(" "),s("blockquote",[s("p",[t._v("严格来说，这个是 Chrome 拓展 "),s("a",{attrs:{href:"https://chrome.google.com/webstore/detail/console-importer/hgajpakhafplebkdljleajgbpdmplhie/related",target:"_blank",rel:"noopener noreferrer"}},[t._v("Console Importer"),s("OutboundLink")],1),t._v(" 的功能，并不是 devtools 自带的。也就意味着你需要先安装这个拓展，它会将 "),s("code",[t._v("$i")]),t._v(" 方法插入到全局。")])]),t._v(" "),s("p",[t._v("示例\n"),s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/7/16785da0dea963fb?imageslim",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("上图引自小册")])]),t._v(" "),s("p",[t._v("不过使用上有个体验稍微欠缺的点：引入后没有告知 window 上挂载的是哪个变量")]),t._v(" "),s("blockquote",[s("p",[t._v("因为有些包挂载的变量不一定是 npm 包名，比如 loadsh 的 "),s("code",[t._v("_")]),t._v(" 。可能可以通过比对 window 前后挂载变量差异来实现")])]),t._v(" "),s("p",[t._v("同时希望能支持上内网 npm 包引入，可能可以通过指定仓库源 or umd 地址来实现")]),t._v(" "),s("p",[t._v("该拓展的项目地址为 "),s("a",{attrs:{href:"https://github.com/pd4d10/console-importer",target:"_blank",rel:"noopener noreferrer"}},[t._v("console-importer"),s("OutboundLink")],1),t._v("，正好最近在研究浏览器插件，以上两个问题有空可以去提个 pr")]),t._v(" "),s("blockquote",[s("p",[t._v("TODO: 后续实现会再写个文章")])]),t._v(" "),s("h2",{attrs:{id:"_2-ninja-console-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ninja-console-log"}},[t._v("#")]),t._v(" 2. Ninja console.log")]),t._v(" "),s("h3",{attrs:{id:"conditional-breakpoints-条件断点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#conditional-breakpoints-条件断点"}},[t._v("#")]),t._v(" Conditional breakpoints 条件断点")]),t._v(" "),s("p",[t._v("这个对我来说还是挺实用的，仅当满足某个表达式才进入断点，很适合在循环代码中按条件进行断点调试")]),t._v(" "),s("p",[t._v("操作：")]),t._v(" "),s("ol",[s("li",[t._v("右击行号，选择 Add conditional breakpoint...(添加条件断点)")]),t._v(" "),s("li",[t._v("填入表达式，返回结果为 "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy",target:"_blank",rel:"noopener noreferrer"}},[t._v("falsy"),s("OutboundLink")],1),t._v(" 时不会暂停")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/17/167b94b8f36112b7?imageslim",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("上图引自小册")])]),t._v(" "),s("p",[t._v("如果只想体验这个功能的话，我们还需要新建一个 html 文档并引入 script 才能玩么？")]),t._v(" "),s("p",[t._v("并不用，还记得上文提到的代码片段 Snippets ，它同样支持调试，所以新建一个代码片段并开始体验吧")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 代码片段")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nArray"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Array")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("i")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" v"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("i\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 断点表达式")]),t._v("\nv"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.8")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"the-ninja-console-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-ninja-console-log"}},[t._v("#")]),t._v(" The ninja console.log")]),t._v(" "),s("p",[t._v("上面说到，表达式结果为 falsy 时不会暂停，这也就意味着我们可以使用 "),s("code",[t._v("console.time/log/group")]),t._v(" 等代码作为表达式，它不会影响断点流程，但是却可以正常输出。")]),t._v(" "),s("p",[s("s",[t._v("以后再也不需要在源代码里面输入 console 代码了")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/17/167b955a1f0311fc?imageslim",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("上图引自小册")])]),t._v(" "),s("p",[t._v("另外发现了一个 logpoint 操作，大概就是表达式里直接写参数，之后通过 "),s("code",[t._v("console.log")]),t._v(" 帮你输出")]),t._v(" "),s("p",[t._v("所以上面的 console 相关操作通过 logpoint 也是可以的，且更符合语义")]),t._v(" "),s("h2",{attrs:{id:"_3-方法代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-方法代理"}},[t._v("#")]),t._v(" 3. 方法代理")]),t._v(" "),s("p",[t._v("在方法被调用时，我们可以进行一些操作，包括触发调试，输出入参等等")]),t._v(" "),s("p",[t._v("编写方法")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("y\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"debug-调试方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#debug-调试方法"}},[t._v("#")]),t._v(" debug 调试方法")]),t._v(" "),s("p",[t._v("如何调试这个方法呢？")]),t._v(" "),s("p",[t._v("执行")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("add"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("当调用方法时就会进入调试面板")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[t._v("可以通过 undebug 取消调用调试")])]),t._v(" "),s("p",[t._v("因此调试方法，我们仅需要知道方法名就行了，不需要知道在代码中哪个位置再去设断点。")]),t._v(" "),s("p",[t._v("该方法的实现：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("debug")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fnName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" originFn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("fnName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("fnName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("debugger")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("originFn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("测试用例")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Animal")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("eat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("food")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" cat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Animal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cat"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// debug(cat.eat)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("eat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fish"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[t._v("不同于原本的 debug 方法，我们需要显式的传入上下文和方法名。同时进入 debugger 时还得操作几下才能进入 eat 方法")]),t._v(" "),s("p",[t._v("如果有更好的实现，欢迎分享~")]),t._v(" "),s("p",[t._v("后续有机会的看下 Command API 是怎么处理的，能否只使用 js 能力就能够实现")]),t._v(" "),s("h3",{attrs:{id:"monitor-监听方法调用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#monitor-监听方法调用"}},[t._v("#")]),t._v(" monitor 监听方法调用")]),t._v(" "),s("p",[t._v("我们想知道我们编写的代码是否被调用，以及入参是什么，以往我们可能会写\b "),s("code",[t._v("console.log")]),t._v("代码，但有了 monitor 我们将不再需要了")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("monitor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("add"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// output: ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// function add called with arguments: 1, 2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("该方法的实现：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("monitor")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fnName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" originFn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("fnName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("fnName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("function add called with arguments: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("originFn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("缺点同上，有更好的做法欢迎分享~")]),t._v(" "),s("h3",{attrs:{id:"monitorevents-object-events-监听事件调用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#monitorevents-object-events-监听事件调用"}},[t._v("#")]),t._v(" monitorEvents(object[, events]) 监听事件调用")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("monitorEvents")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resize"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("执行上述代码，当窗口大小变化时会输出以下内容")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('resize Event {isTrusted: true, type: "resize", target: Window, currentTarget: Window, eventPhase: 2, …}\n\nresize Event {isTrusted: true, type: "resize", target: Window, currentTarget: Window, eventPhase: 2, …}\n\nresize Event {isTrusted: true, type: "resize", target: Window, currentTarget: Window, eventPhase: 2, …}\n\nresize Event {isTrusted: true, type: "resize", target: Window, currentTarget: Window, eventPhase: 2, …}\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("此外 event 还支持数组和映射，更多可查看 https://developers.google.com/web/tools/chrome-devtools/console/utilities#monitorevents")]),t._v(" "),s("p",[t._v("mock 的话，赶紧就直接用 addEventListener 即可")]),t._v(" "),s("h2",{attrs:{id:"_4-live-expression-功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-live-expression-功能"}},[t._v("#")]),t._v(" 4. Live expression 功能")]),t._v(" "),s("p",[t._v('在 Console 面板的 "眼睛" 符号处开启。')]),t._v(" "),s("p",[t._v("类似 Vue 中的 computed ，书写一个表达式，当表达式中的成员变量变化时，结果会实时更新展示。")]),t._v(" "),s("p",[t._v("示例：\n"),s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/29/167f82b33009449f?imageslim",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("上图引自小册")])]),t._v(" "),s("p",[t._v("目前想到的使用场景有：")]),t._v(" "),s("h3",{attrs:{id:"_1-dom-节点个数统计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-dom-节点个数统计"}},[t._v("#")]),t._v(" (1) dom 节点个数统计")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-计算数学表达式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-计算数学表达式"}},[t._v("#")]),t._v(" (2) 计算数学表达式")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_3-展示当前点击位置坐标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-展示当前点击位置坐标"}},[t._v("#")]),t._v(" (3) 展示当前点击位置坐标")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 控制台先输入")]),t._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("clientX"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("clientY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("myPosition"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("clientX"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("clientY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Live expression 为")]),t._v("\nmyPosition "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 效果类似上图示例，这里不再展示")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h2",{attrs:{id:"其他"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),s("ul",[s("li",[t._v("console 面板中可以直接用 await ，无需包裹 async iife")]),t._v(" "),s("li",[t._v("测试回调参数时，直接在回调中使用 "),s("code",[t._v("console.log")]),t._v(" 是更佳的做法： "),s("code",[t._v("getLocation(console.log)")]),t._v(" ，不要 "),s("code",[t._v("getLocation((v)=>console.log(v))")])])]),t._v(" "),s("h1",{attrs:{id:"network-篇"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#network-篇"}},[t._v("#")]),t._v(" Network 篇")]),t._v(" "),s("h2",{attrs:{id:"_1-关闭-overview-扩大请求面板空间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-关闭-overview-扩大请求面板空间"}},[t._v("#")]),t._v(" 1. 关闭 overview 扩大请求面板空间")]),t._v(" "),s("p",[t._v("overview 是一些时间轴信息，大部分情况下我们并不需要，还占面板空间")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sf1-dycdn-tos.pstatp.com/obj/eden-cn/nupohneh7nupehpqnulog/img/network_overview.png",alt:""}})]),t._v(" "),s("p",[t._v("可以在设置中关掉它（上图 show overview 处）")]),t._v(" "),s("h2",{attrs:{id:"_2-禁用请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-禁用请求"}},[t._v("#")]),t._v(" 2. 禁用请求")]),t._v(" "),s("blockquote",[s("p",[t._v("想看看当某些脚本、样式文件缺少或者其他资源加载失败时，网页的样子吗？在 Network 面板对某条请求右击选择 "),s("strong",[t._v("Block Request URL")]),t._v("。一个新的 "),s("strong",[t._v("禁用请求")]),t._v(" 面板会被呼出，在这里可以管理被禁用的请求。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://sf1-dycdn-tos.pstatp.com/obj/eden-cn/nupohneh7nupehpqnulog/img/block-request-url.png",alt:""}})]),t._v(" "),s("p",[t._v("（以上引自官方原文）")]),t._v(" "),s("p",[t._v("在 "),s("strong",[t._v("禁用请求")]),t._v(" 面板中设置 url 规则会更方便，还支持正则")]),t._v(" "),s("h2",{attrs:{id:"_3-xhr-fetch-断点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-xhr-fetch-断点"}},[t._v("#")]),t._v(" 3. XHR/fetch 断点")]),t._v(" "),s("p",[t._v("在 source 面板右侧 XHR/fetch Breakpoints 新建断点")]),t._v(" "),s("p",[t._v("示例如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/1/22/16874662814db12c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("上图引自小册")])]),t._v(" "),s("p",[t._v("比如对表单提交请求做断点，查看提交数据是否正常（当然也可以在 network 面板中看数据）")]),t._v(" "),s("p",[t._v("目前没发现这个功能的必要使用场景")]),t._v(" "),s("h1",{attrs:{id:"elements-面板篇"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elements-面板篇"}},[t._v("#")]),t._v(" Elements 面板篇")]),t._v(" "),s("h2",{attrs:{id:"_1-通过-h-去隐藏元素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-通过-h-去隐藏元素"}},[t._v("#")]),t._v(" 1. 通过 "),s("code",[t._v("h")]),t._v(" 去隐藏元素")]),t._v(" "),s("p",[t._v("选中元素，按下 h ，此时会给元素加上一个 style 样式，用来隐藏元素")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v("visibility")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hidden "),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("!important")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("再按一次则显示元素")]),t._v(" "),s("h2",{attrs:{id:"_2-颜色选择器的-contrast-ratio-对比度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-颜色选择器的-contrast-ratio-对比度"}},[t._v("#")]),t._v(" 2. 颜色选择器的 Contrast ratio(对比度)")]),t._v(" "),s("p",[t._v("打开文本的调色选择器，可以看到 Contrast ratio 属性，其表示文字颜色和背景色的对比度")]),t._v(" "),s("p",[t._v("有三种情况：")]),t._v(" "),s("ol",[s("li",[t._v("🚫：表示对比度太低")]),t._v(" "),s("li",[t._v("✅：表示遵从 AA 声明，至少为 4.5")]),t._v(" "),s("li",[t._v("✅✅：表示遵从  AAA 声明，至少为 7")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/12/167a1d2cc3b22cdd?imageslim",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("上图引自小册")])]),t._v(" "),s("p",[t._v("展开 Contrast ratio 后，颜色面板还会出现 2 条线，用来指导开发者选择满足相应标准的对比度")]),t._v(" "),s("h1",{attrs:{id:"drawer-篇"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#drawer-篇"}},[t._v("#")]),t._v(" Drawer 篇")]),t._v(" "),s("p",[t._v("通过 More Tools 打开")]),t._v(" "),s("p",[t._v("因为更少用到，所以入口会更深。这里说下一个新发现的比较实用的功能。")]),t._v(" "),s("h2",{attrs:{id:"_1-changes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-changes"}},[t._v("#")]),t._v(" 1. Changes")]),t._v(" "),s("p",[t._v("我们经常在控制台上，对线上页面进行样式调试。")]),t._v(" "),s("p",[t._v("当调试结束时，怎么确定我改了哪些样式？人脑记？")]),t._v(" "),s("p",[t._v("这时候 Changes 功能就可以满足我们的需求")]),t._v(" "),s("p",[t._v("它会记录文件变化的情况，就像 git 一样，还支持撤回某些修改")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/29/167f829dadf27e11?imageslim",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("上图引自小册")])]),t._v(" "),s("p",[t._v("不过"),s("strong",[t._v("需要注意")]),t._v("的是，对于压缩过的 css 来说，样式只有一行，这个 Changes 功能没啥用")]),t._v(" "),s("h1",{attrs:{id:"workspace-篇"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#workspace-篇"}},[t._v("#")]),t._v(" Workspace 篇")]),t._v(" "),s("p",[t._v("大部分情况下，我们是通过框架和打包工具进行开发的，这个功能不是很好用（也可能是我姿势不对），这里不再赘述。")]),t._v(" "),s("p",[t._v("对于纯 js/css 的小项目来说这个功能可能比较有用，感兴趣的可看小册"),s("a",{attrs:{href:"https://juejin.im/book/6844733783166418958/section/6844733783225139214",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("总的来说一句话，改动是相互同步的")]),t._v(" "),s("h1",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("Chrome Devtools 提供了很多强大的功能，解决了许多痛点，不过部分功能也很鸡肋")]),t._v(" "),s("p",[t._v("Devtools 的功能在不断更新，仅仅阅读他人的文章是当不了最潮的 debug boy 的，还是得多看看官方文档 😏")])])}),[],!1,null,null,null);s.default=e.exports}}]);