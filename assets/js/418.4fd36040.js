(window.webpackJsonp=window.webpackJsonp||[]).push([[418],{1211:function(a,s,t){"use strict";t.r(s);var e=t(30),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"_1-分支切换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-分支切换"}},[a._v("#")]),a._v(" 1. 分支切换")]),a._v(" "),s("h3",{attrs:{id:"查看远程分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看远程分支"}},[a._v("#")]),a._v(" 查看远程分支")]),a._v(" "),s("p",[a._v("git branch -a")]),a._v(" "),s("h3",{attrs:{id:"查看本地分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看本地分支"}},[a._v("#")]),a._v(" 查看本地分支")]),a._v(" "),s("p",[a._v("git branch")]),a._v(" "),s("h3",{attrs:{id:"切换分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切换分支"}},[a._v("#")]),a._v(" 切换分支")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ git checkout -b dev origin/dev   \n从远程dev分支取得到本地分支dev\nBranch dev set up to track remote branch dev from origin.\nSwitched to a new branch 'v0.9rc1'\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("-b :创建并切换，相当于 git branch dev;git checkout dev")]),a._v(" "),s("h2",{attrs:{id:"_2-分支合并"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-分支合并"}},[a._v("#")]),a._v(" 2. 分支合并")]),a._v(" "),s("h3",{attrs:{id:"整个分支合并"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#整个分支合并"}},[a._v("#")]),a._v(" 整个分支合并")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#切换到master分支")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout master\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#合并dev分支")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" merge dev\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("h3",{attrs:{id:"合并某个commit到指定的分支上"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合并某个commit到指定的分支上"}},[a._v("#")]),a._v(" 合并某个commit到指定的分支上")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看当前分支的commit记录，记录commit_id")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" log\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 切换到master分支")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout master\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将该次commit 合并到master分支")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" cherry-pick "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("commit_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("h3",{attrs:{id:"合并连续多个commit-aaaa-bbbb-到指定的分支上"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合并连续多个commit-aaaa-bbbb-到指定的分支上"}},[a._v("#")]),a._v(" 合并连续多个commit（aaaa->bbbb）到指定的分支上")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 创建并切换到newbranch分支 以bbbb提交为结尾")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" newbranch bbbb\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 以aaaa的commit记录开始合并到master，此时合并的为aaaa->bbbb的commit")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" rebase —onto master aaaa^\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("h2",{attrs:{id:"_3-push"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-push"}},[a._v("#")]),a._v(" 3. push")]),a._v(" "),s("h3",{attrs:{id:"推送到指定名称的远程分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推送到指定名称的远程分支"}},[a._v("#")]),a._v(" 推送到指定名称的远程分支")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("// 将local-dev推送到 origin-dev 分支\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push origin local-dev:origin-dev\n// 当 local-dev 为空时，将删除 origin-dev 分支\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push origin :origin-dev\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("h3",{attrs:{id:"将本地仓库转到远程仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将本地仓库转到远程仓库"}},[a._v("#")]),a._v(" 将本地仓库转到远程仓库")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 添加远程仓库")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" remote "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 推送远程仓库：这里的场景 localBranchName 一般用master")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("remoteName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("localBranchName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("h2",{attrs:{id:"_4-版本回退"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-版本回退"}},[a._v("#")]),a._v(" 4. 版本回退")]),a._v(" "),s("h3",{attrs:{id:"删除远程仓库的文件-并忽略提交"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除远程仓库的文件-并忽略提交"}},[a._v("#")]),a._v(" 删除远程仓库的文件 并忽略提交")]),a._v(" "),s("p",[a._v("当文件进入版本管理时，设置 gitignore 将没有效果，此时将提交push到远程仓库会发现远程仓库有这些文件")]),a._v(" "),s("p",[a._v("举例：在"),s("code",[a._v(".gitignore")]),a._v("设置忽略test目录时，已进行test目录的git管理,此时我们不小心把test目录也push到远程分支了，怎么办？")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--cached")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" commit "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"delete test/"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push origin master\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("此时可以把忽略规则写到gitignore中了。")]),a._v(" "),s("h3",{attrs:{id:"git-reset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-reset"}},[a._v("#")]),a._v(" git reset")]),a._v(" "),s("p",[a._v("先用git log 查看commit记录，回车下一页，q退出查看")]),a._v(" "),s("p",[a._v("git reset --hard commit_id 或者 HEAD^ 表示当前版本的上一个版本，10个前的版本就是 HEAD~10")]),a._v(" "),s("p",[a._v("将 commit 信息和文件都进行回退")]),a._v(" "),s("blockquote",[s("p",[a._v("不指定 --hard 的话即默认的 --mixed 模式, 回退 commit 信息，文件处于工作区（待 add）")])]),a._v(" "),s("p",[a._v("还可以指定为 --soft ，回退 commit 信息，文件处于 staged 状态（待 commit）")]),a._v(" "),s("p",[a._v("当前版本被重置后，想回到刚刚的版本，又找不到commit_id,刚刚的命令窗口被关闭，怎么办?")]),a._v(" "),s("p",[a._v("可以通过 git reflog 里面记录了我们每次的命令")]),a._v(" "),s("h3",{attrs:{id:"回退某个文件到指定版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#回退某个文件到指定版本"}},[a._v("#")]),a._v(" 回退某个文件到指定版本")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git checkout HEAD my-file.txt\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"git-文件改一半需要临时改个bug-commit上怎么写"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-文件改一半需要临时改个bug-commit上怎么写"}},[a._v("#")]),a._v(" git 文件改一半需要临时改个bug -commit上怎么写？")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.cnblogs.com/wufangfang/p/6085617.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("参考"),s("OutboundLink")],1)]),a._v(" "),s("ol",[s("li",[a._v("git stash  存储工作区")]),a._v(" "),s("li",[a._v("git checkout -b issue-xxx 复制当前分支到issue-xxx分支")]),a._v(" "),s("li",[a._v('git commit -m "fix bug xxx"  修改bug并提交')]),a._v(" "),s("li",[a._v("git checkout master 切换到master分支")]),a._v(" "),s("li",[a._v("git merge issue-xxx 合并issue-xxx分支")]),a._v(" "),s("li",[a._v("git branch -d issue-xxx 删除issue-xxx分支")]),a._v(" "),s("li",[a._v("git stash list 展示刚才的工作区")]),a._v(" "),s("li",[a._v("git stash pop 还原工作区并删除对应的stash")]),a._v(" "),s("li",[a._v("git stash list 此时应该是空的")])]),a._v(" "),s("h2",{attrs:{id:"git-commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-commit"}},[a._v("#")]),a._v(" git commit")]),a._v(" "),s("p",[a._v("--amend : 用来修改上次提交时的 message")]),a._v(" "),s("h2",{attrs:{id:"git-rebase"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-rebase"}},[a._v("#")]),a._v(" git rebase")]),a._v(" "),s("h3",{attrs:{id:"i-start-point-end-point-可交互变基"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#i-start-point-end-point-可交互变基"}},[a._v("#")]),a._v(" -i [start_point] [end_point] 可交互变基")]),a._v(" "),s("p",[a._v("常用来调整 commit 记录的顺序， 进行 commit 合并等。")]),a._v(" "),s("p",[a._v("首条 pick or edit(修改 message 用)，其他的用 s or f(丢弃该 commit 的 message)")]),a._v(" "),s("h2",{attrs:{id:"git-tag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-tag"}},[a._v("#")]),a._v(" git tag")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.jianshu.com/p/9e64bdf1e8f9",target:"_blank",rel:"noopener noreferrer"}},[a._v("参考"),s("OutboundLink")],1)]),a._v(" "),s("h3",{attrs:{id:"查看-tag-列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看-tag-列表"}},[a._v("#")]),a._v(" 查看 tag 列表")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" tag\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"添加tag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加tag"}},[a._v("#")]),a._v(" 添加tag")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" tag "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("tag名"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("注释文字"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# git tag -a v0.1.0 -m v0.1.0")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h3",{attrs:{id:"push-tag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#push-tag"}},[a._v("#")]),a._v(" push tag")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push origin "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("标签名"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#一次推送本地所有 tags，使用 --tags选项：")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push origin "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--tags")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("h2",{attrs:{id:"git-clone"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-clone"}},[a._v("#")]),a._v(" git clone")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##最近一次提交")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--depth")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("remote-addr:repo.git"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"gh-pages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gh-pages"}},[a._v("#")]),a._v(" gh-pages")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定某个文件夹")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" subtree push "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("dist origin gh-pages\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 整个项目都上传")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" symbolic-ref HEAD refs/heads/gh-pages\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push origin gh-pages\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h2",{attrs:{id:"切换仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切换仓库"}},[a._v("#")]),a._v(" 切换仓库")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" remote set-url origin url\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("注意，正常的话 切换完 pull 是没问题的（新的远程仓库也是原来本地仓库的记录）")]),a._v(" "),s("p",[a._v("但如果新的仓库地址的记录与本地不相关的话，就会报")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("fatal: refusing to merge unrelated histories\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("此时应该放弃原来的git记录，采用代码覆盖重新提交的方式。。")]),a._v(" "),s("p",[a._v("若采用 "),s("code",[a._v("git pull origin master --allow-unrelated-histories")]),a._v(" 强制合并，会有各种冲突等等，")]),a._v(" "),s("p",[a._v("其实最好的方法就是让同伴不要把不相关的记录直接传新的仓库。。")]),a._v(" "),s("p",[s("strong",[a._v("方式2")])]),a._v(" "),s("p",[a._v("具体迁移步骤")]),a._v(" "),s("p",[a._v("在新地址上新建对应项目")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--bare")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$url")]),a._v("  //拷贝一份旧GIT裸版本的代码\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" xxx.git             //进入到目录底下\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--mirror")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$newurl")]),a._v("   //推送到新的仓库地址\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/ "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v(" xxx.git     //删除拷贝\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("git remote add 和 set-url 区别")]),a._v(" "),s("h2",{attrs:{id:"克隆仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#克隆仓库"}},[a._v("#")]),a._v(" 克隆仓库")]),a._v(" "),s("p",[a._v("https 与 ssh 的区别")]),a._v(" "),s("p",[a._v("前者每次 push 时都需要输入账号密码")]),a._v(" "),s("p",[a._v("后者会利用已经配置的 key 进行登陆，要求自身为克隆的仓库的拥有者或者加入者")]),a._v(" "),s("h2",{attrs:{id:"mr-的正确姿势"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mr-的正确姿势"}},[a._v("#")]),a._v(" MR 的正确姿势")]),a._v(" "),s("p",[a._v("功能分支合入主分支时，保证提交记录只有一个，让主分支记录看得更清晰点。")]),a._v(" "),s("p",[a._v("此时有两种做法：")]),a._v(" "),s("ol",[s("li",[a._v("merge 的时候开启 square")]),a._v(" "),s("li",[a._v("本地交互变基合成一个后再提交")])]),a._v(" "),s("p",[a._v("前者 code review 时可以按子提交纬度来看；\n后者合完后可以追溯到子提交。")]),a._v(" "),s("p",[a._v("因此前者适用于后面不再追溯某个子提交的情况，大部分情况用这个足够了。")]),a._v(" "),s("p",[a._v("如果一个 MR 里面需要有保留多个提交记录而原来的 commit 又太多太乱时，就需要用「交互变基』")]),a._v(" "),s("h2",{attrs:{id:"撤销线上提交"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#撤销线上提交"}},[a._v("#")]),a._v(" 撤销线上提交")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git revert commit_id\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"去除-mr-信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#去除-mr-信息"}},[a._v("#")]),a._v(" 去除 mr 信息")]),a._v(" "),s("p",[a._v("release 分支里带有很多功能分支的 mr")]),a._v(" "),s("p",[a._v("此时 release 合到 master 的时候，会带有这些 mr 记录")]),a._v(" "),s("p",[a._v("需要先 rebase 下 master ，这样 master 里就不会带这些功能分支合到 release 的 mr 记录")]),a._v(" "),s("h2",{attrs:{id:"单项目用户信息-config-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单项目用户信息-config-配置"}},[a._v("#")]),a._v(" 单项目用户信息 config 配置")]),a._v(" "),s("p",[a._v("调整 commit 里面用户的个人信息，不使用全局的（防止暴露个人信息和公司邮箱）")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" config user.name "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"francecil"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" config user.email "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"396324491@qq.com"')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"wip-git-merge-的方式解决冲突"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wip-git-merge-的方式解决冲突"}},[a._v("#")]),a._v(" WIP: git merge 的方式解决冲突")]),a._v(" "),s("p",[a._v("https://www.freecodecamp.org/news/an-introduction-to-git-merge-and-rebase-what-they-are-and-how-to-use-them-131b863785f/")]),a._v(" "),s("h2",{attrs:{id:"删除-git-控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除-git-控制"}},[a._v("#")]),a._v(" 删除 git 控制")]),a._v(" "),s("p",[a._v("进入相应项目，执行以下命令")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v(" .git\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"文件大小写不敏感问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件大小写不敏感问题"}},[a._v("#")]),a._v(" 文件大小写不敏感问题")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 配置大小写敏感")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" config core.ignorecase "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删掉对应的文件或目录")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--cached")]),a._v("  /xxx/x\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("https://www.jianshu.com/p/420d38913578")]),a._v(" "),s("h2",{attrs:{id:"批量删除本地分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#批量删除本地分支"}},[a._v("#")]),a._v(" 批量删除本地分支")]),a._v(" "),s("p",[a._v("删除当前分支外的所有分支")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" branch "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("xargs")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" branch "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("https://blog.csdn.net/u012719153/article/details/81136081")]),a._v(" "),s("h2",{attrs:{id:"显示最新操作的几个分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#显示最新操作的几个分支"}},[a._v("#")]),a._v(" 显示最新操作的几个分支")]),a._v(" "),s("p",[a._v("编辑 shell 脚本提供这个功能")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" config "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--global")]),a._v(" alias.recent "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"\\!f() { count=\\'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("; git for-each-ref --count=\\"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${count"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":=")]),a._v("10}")]),a._v(" --sort=-committerdate refs/heads/ --format='%(authordate:short) %(color:red)%(objectname:short) %(color:blue)%(subject) %(color:yellow)%(refname:short)%(color:reset) (%(color:green)%(committerdate:relative)%(color:reset))';}; f\"")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("然后使用 "),s("code",[a._v("git recent 3")]),a._v(" 可以使用最近的三条分支名")]),a._v(" "),s("blockquote",[s("p",[a._v("也可以使用开源项目 "),s("a",{attrs:{href:"https://github.com/paulirish/git-recent",target:"_blank",rel:"noopener noreferrer"}},[a._v("git-recent"),s("OutboundLink")],1),a._v(" 解决")])]),a._v(" "),s("h2",{attrs:{id:"所-rebase-的原分支提交重新变化-当前分支应该如何快速重新-rebase"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#所-rebase-的原分支提交重新变化-当前分支应该如何快速重新-rebase"}},[a._v("#")]),a._v(" 所 rebase 的原分支提交重新变化，当前分支应该如何快速重新 rebase")]),a._v(" "),s("h3",{attrs:{id:"举例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[a._v("#")]),a._v(" 举例：")]),a._v(" "),s("p",[a._v("release 分支增加了几个提交，然后 checkout 出 feature 分支并进行开发；")]),a._v(" "),s("p",[a._v("后面 release 分支有人改动过，内容基本不变但是 commit 记录不一样了，比如 release 分支 rebase 了 master 分支，或者有人强改强推。")]),a._v(" "),s("p",[a._v("此时 feature 分支重新 rebase release 会出现较多的冲突，有什么好的解决方案？")]),a._v(" "),s("h3",{attrs:{id:"解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[a._v("#")]),a._v(" 解决方案：")]),a._v(" "),s("p",[a._v("解法1：在 feature 分支上使用 "),s("code",[a._v("git merge release")]),a._v(" 命令，进行一个合并，缺点就是 feature 分支上会留下一个 git 提交记录，如果不想要该记录的话需要额外去除。")])])}),[],!1,null,null,null);s.default=r.exports}}]);